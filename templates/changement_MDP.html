<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Opéra BU</title>
<link rel="stylesheet" href="{{ url_for('static', filename='ajout_administrateur.css') }}">

</head>
<body>
    <header>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <ul class="flashes">
            {% for category, message in messages %}
                <li class="{{ category }}">{{ message }}</li>
            {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
        

        <div class="login-container">
        
            <form action="{{ url_for('change_password') }}" method="post">
                <h2>Reinitialisation du mot de passe</h2>
                <a href="{{ url_for('acceuil') }}">Revenir à l'acceuil</a>
                <input type="password" id="password" name="mot_de_passe" placeholder="Nouveau mot de passe" required  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" title="Le mot de passe doit contenir au moins 8 caractères, dont une majuscule, une minuscule, un chiffre et un caractère spécial">
                <input type="password" id="confirm_password" name="confirmation_mot_de_passe" placeholder="Confirmation du nouveau mot de passe" required>
                <button type="submit">Confirmer</button>
                
            </form>
        </div>
    </header>
    <script>
        "use strict";
        const password = document.querySelector("#password");
        const confirm_password = document.querySelector("#confirm_password");
  
        function validatePassword(){
          if(password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
          } else {
            confirm_password.setCustomValidity('');
          }
        }
        password.addEventListener('keyup', validatePassword);
        confirm_password.addEventListener('keyup', validatePassword);
      </script>
    

    
</body>
</html>

